<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>dendroNetwork: how to use it • dendroNetwork</title>
<!-- rOpenSci favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="dendroNetwork: how to use it">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<script src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.umd.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">dendroNetwork</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.5.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="active nav-item"><a class="nav-link" href="../articles/dendroNetwork.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/cytoscape.html">Cytoscape visualization</a></li>
    <li><a class="dropdown-item" href="../articles/dendrochronological_data.html">dendrochronological data</a></li>
    <li><a class="dropdown-item" href="../articles/large_datasets_communities.html">Finding communities in large datasets</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ropensci/dendroNetwork/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="dendroNetwork_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="dendroNetwork_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="dendroNetwork_files/viz-1.8.2/viz.js"></script><link href="dendroNetwork_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="dendroNetwork_files/grViz-binding-1.0.11/grViz.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>dendroNetwork: how to use it</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/dendroNetwork/blob/master/vignettes/dendroNetwork.Rmd" class="external-link"><code>vignettes/dendroNetwork.Rmd</code></a></small>
      <div class="d-none name"><code>dendroNetwork.Rmd</code></div>
    </div>

    
    
<p>dendroNetwork is a package to create dendrochronological networks for
gaining insight into provenance or other patterns based on the
statistical relations between tree ring curves. The code and the
functions are based on several published papers <span class="citation">(Visser 2021, 2021; Visser and Vorst 2022)</span>.</p>
<p>The package is written for dendrochronologists and have a general
knowledge on the discipline and used jargon. There is an excellent
website for the introduction of using R in dendrochronology: <a href="https://opendendro.org/r/" class="external-link uri">https://opendendro.org/r/</a>. The basics of
dendrochronology can be found in handbooks <span class="citation">(Cook
and Kariukstis 1990; Speer 2010)</span> or on <a href="https://www.dendrohub.com/" class="external-link uri">https://www.dendrohub.com/</a>.</p>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>The package aims to make the creation of dendrochronological
(provenance) networks as easy as possible. To be able to make use of all
options, it is assumed that Cytoscape <span class="citation">(Shannon et
al. 2003)</span> is installed (<a href="https://cytoscape.org/" class="external-link uri">https://cytoscape.org/</a>). Cytoscape is open source
software and platform independent and provides easy visual access to
complex networks, including the attributes of both nodes and edges in a
network (see the <a href="https://cytoscape.org/what_is_cytoscape.html" class="external-link">Cytoscape-website</a>
for more information). Some data is included in this package, namely the
Roman data published by Hollstein <span class="citation">(Hollstein
1980)</span>.</p>
<p>The first steps are visualized in the flowchart below, including
community detection using either (or both) the Girvan-Newman algorithm
<span class="citation">(Girvan and Newman 2002)</span> and Clique
Percolation Method <span class="citation">(Palla et al. 2005)</span> for
all clique sizes. Both methods are explained very well in the papers,
and on wikipedia for both <a href="https://en.wikipedia.org/wiki/Clique_percolation_method" class="external-link">CPM</a>
and the <a href="https://en.wikipedia.org/wiki/Girvan%E2%80%93Newman_algorithm" class="external-link">Girvan-Newman
algorithm</a>. More information on the dendrochronological data can be
found in a separate <a href="dendrochronological_data.html">vignette</a>.</p>
<div class="grViz html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:480px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"diagram":"\ndigraph {\n  # graph attributes\n  graph [overlap = true]\n  # node attributes\n  node [shape = box,\n        fontname = Helvetica,\n        color = gray]\n  # edge attributes\n  edge [color = black]\n  # node statements\n  1 [label = \"Load data\"]\n  2 [label = \"Create similarity table\"]\n  3 [label = \"Create network using default settings\"]\n  4 [label = \"Detect communities using the \n Girvan-Newman algorithm\"]\n  5 [label = \"Detect communities using the \n Clique Percolation Method\"]\n  # edge statements\n  1 ->  2\n  2 -> 3\n  3 -> 4\n  3 -> 5\n  }\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/dendroNetwork">dendroNetwork</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">hol_rom</span><span class="op">)</span> <span class="co"># 1</span></span>
<span><span class="va">sim_table_hol</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_table.html">sim_table</a></span><span class="op">(</span><span class="va">hol_rom</span><span class="op">)</span> <span class="co"># 2</span></span>
<span><span class="va">g_hol</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dendro_network.html">dendro_network</a></span><span class="op">(</span><span class="va">sim_table_hol</span><span class="op">)</span> <span class="co"># 3</span></span>
<span><span class="va">g_hol_gn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gn_names.html">gn_names</a></span><span class="op">(</span><span class="va">g_hol</span><span class="op">)</span> <span class="co"># 4</span></span>
<span><span class="va">g_hol_cpm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/clique_community_names.html">clique_community_names</a></span><span class="op">(</span><span class="va">g_hol</span>, k<span class="op">=</span><span class="fl">3</span><span class="op">)</span> <span class="co"># 4</span></span>
<span><span class="va">hol_com_cpm_all</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/find_all_cpm_com.html">find_all_cpm_com</a></span><span class="op">(</span><span class="va">g_hol</span><span class="op">)</span> <span class="co"># 5</span></span>
<span><span class="co"># plotting the graph in R</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g_hol</span><span class="op">)</span>  </span></code></pre></div>
<p><img src="dendroNetwork_files/figure-html/network_hollstein_1980-1.png" width="480"></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># better readable version</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g_hol</span>, vertex.color<span class="op">=</span><span class="st">"deepskyblue"</span>, vertex.size<span class="op">=</span><span class="fl">15</span>, vertex.frame.color<span class="op">=</span><span class="st">"gray"</span>,</span>
<span>     vertex.label.color<span class="op">=</span><span class="st">"darkslategrey"</span>, vertex.label.cex<span class="op">=</span><span class="fl">0.8</span>, vertex.label.dist<span class="op">=</span><span class="fl">2</span><span class="op">)</span> </span></code></pre></div>
<p><img src="dendroNetwork_files/figure-html/network_hollstein_1980-2.png" width="480"></p>
<p>For large datasets of tree-ring series see also
<code><a href="../articles/large_datasets_communities.html">vignette("large_datasets_communities")</a></code> .</p>
<div class="section level3">
<h3 id="visualization_cytoscape">Visualization in Cytoscape<a class="anchor" aria-label="anchor" href="#visualization_cytoscape"></a>
</h3>
<p>After creating the network in R, it is possible to visualize the
network using Cytoscape. The main advantage is that visualisation in
Cytoscape is more easy, intuitive and visual. In addition, it is very
easy to automate workflows in Cytoscape with R (using <a href="https://bioconductor.org/packages/release/bioc/html/RCy3.html" class="external-link">RCy3</a>).
For this purpose we need to start Cytoscape firstly. After Cytoscape has
completely loaded, the next steps can be taken.</p>
<ol style="list-style-type: decimal">
<li>The network can now be loaded in Cytoscape for further
visualisation:
<code>cyto_create_graph(g_hol, CPM_table = hol_com_cpm_all, GN_table = g_hol_gn)</code>
</li>
<li>Styles for visualisation can now be generated. However, Cytoscape
comes with a lot of default styles that can be confusing. Therefore it
is recommended to use: <code><a href="../reference/cyto_clean_styles.html">cyto_clean_styles()</a></code> once in a
session.</li>
<li>To visualize the styles for CPM with only k=3:
<code>cyto_create_cpm_style(g_hol, k=3, com_k = g_hol_cpm)</code>
<ul>
<li>This can be repeated for all possible clique sizes. To find the
maximum clique size in a network, please use:
<code>igraph::clique_num(g_hol)</code>.</li>
<li>To automate this:
<code>for (i in 3:igraph::clique_num(g_hol)) { cyto_create_cpm_style(g_hol, k=i, com_k = g_hol_cpm)}</code>.</li>
</ul>
</li>
<li>To visualize the styles using the Girvan-Newman algorithm (GN):
<code>cyto_create_gn_style(g_hol)</code> This would look something like
this in Cytoscape:</li>
</ol>
<div class="float">
<img src="images/g_hol_GN.png" width="800" alt="The network of Roman sitechronologies with the Girvan-Newman communities visualized."><div class="figcaption">The network of Roman sitechronologies with the
Girvan-Newman communities visualized.</div>
</div>
<p>A more complete description of using Cytoscape with this package can
be found here: <code><a href="../articles/large_datasets_communities.html">vignette("large_datasets_communities")</a></code> .</p>
</div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this software, please cite this using:</p>
<p>Visser, R. (2024). DendroNetwork: a R-package to create
dendrochronological provenance networks (Version 0.5.0) [Computer
software]. <a href="https://zenodo.org/doi/10.5281/zenodo.10636310" class="external-link uri">https://zenodo.org/doi/10.5281/zenodo.10636310</a></p>
</div>
<div class="section level2 unnumbered">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" line-spacing="2">
<div id="ref-cook1990" class="csl-entry">
Cook, ER and Kariukstis, LA. 1990. <em>Methods of dendrochronology.
Applications in the environmental sciences</em>. Dordrecht: Kluwer
Academic Publishers.
</div>
<div id="ref-girvan2002" class="csl-entry">
Girvan, M and Newman, MEJ. 2002 Community structure in social and
biological networks. <em>Proceedings of the National Academy of Sciences
of the United States of America</em> 99(12): 7821–7826. DOI:
https://doi.org/<a href="https://doi.org/10.1073/pnas.122653799" class="external-link">10.1073/pnas.122653799</a>.
</div>
<div id="ref-hollstein1980" class="csl-entry">
Hollstein, E. 1980. <em>Mitteleuropäische eichenchronologie. Trierer
dendrochronologische forschungen zur archäologie und
kunstgeschichte.</em> Trierer grabungen und forschungen 11. Mainz am
Rhein: Verlag Philipp von Zabern.
</div>
<div id="ref-palla2005" class="csl-entry">
Palla, G, Derenyi, I, Farkas, I and Vicsek, T. 2005 Uncovering the
overlapping community structure of complex networks in nature and
society. <em>Nature</em> 435(7043): 814–818. DOI: https://doi.org/<a href="https://doi.org/10.1038/nature03607" class="external-link">10.1038/nature03607</a>.
</div>
<div id="ref-shannon2003" class="csl-entry">
Shannon, P, Markiel, A, Ozier, O, Baliga, NS, Wang, JT, Ramage, D, Amin,
N, Schwikowski, B and Ideker, T. 2003 Cytoscape: A software environment
for integrated models of biomolecular interaction networks. <em>Genome
Research</em> 13(11): 2498–2504. DOI: https://doi.org/<a href="https://doi.org/10.1101/gr.1239303" class="external-link">10.1101/gr.1239303</a>.
</div>
<div id="ref-speer2010" class="csl-entry">
Speer, JH. 2010. <em>Fundamentals of tree ring research</em>. Tucson:
University of Arizona Press.
</div>
<div id="ref-visser2021" class="csl-entry">
Visser, RM. 2021 Dendrochronological Provenance Patterns. Network
Analysis of Tree-Ring Material Reveals Spatial and Economic Relations of
Roman Timber in the Continental North-Western Provinces. <em>Journal of
Computer Applications in Archaeology</em> 4(1): 230–253. DOI:
https://doi.org/<a href="https://doi.org/10.5334/jcaa.79" class="external-link">10.5334/jcaa.79</a>.
</div>
<div id="ref-visser2022" class="csl-entry">
Visser, RM and Vorst, Y. 2022 Connecting Ships: Using
Dendrochronological Network Analysis to Determine the Wood Provenance of
Roman-Period River Barges Found in the Lower Rhine Region and Visualise
Wood Use Patterns. <em>International Journal of Wood Culture</em>
3(1-3): 123–151. DOI: https://doi.org/<a href="https://doi.org/10.1163/27723194-bja10014" class="external-link">10.1163/27723194-bja10014</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>





  </body>
</html>
